# Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ° Unit-ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ¸ WB

## ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
1. [ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#1-Ğ¾Ğ±Ñ‰Ğ°Ñ-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
2. [Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ (Reference Data)](#2-ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸-reference-data)
3. [ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ](#3-Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸-Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ)
4. [Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°](#4-Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ-Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°)
5. [Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²](#5-Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹-Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²)
6. [Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ](#6-Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ)
7. [Ğ¡Ğ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸](#7-ÑĞ²ÑĞ·Ğ¸-Ğ¼ĞµĞ¶Ğ´Ñƒ-Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸)
8. [Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ](#8-Ñ‚Ğ¸Ğ¿Ñ‹-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…-Ğ¸-Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ)
9. [Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ React](#9-Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸-Ğ´Ğ»Ñ-react)

---

## 1. ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### 1.1 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ»Ğ¸ÑÑ‚Ğ¾Ğ² Excel

| Ğ›Ğ¸ÑÑ‚ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | Ğ Ğ°Ğ·Ğ¼ĞµÑ€ |
|------|------------|--------|
| `â–¶ï¸ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ` | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ, Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ², Ğ¾Ğ¿Ñ†Ğ¸Ğ¹ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² | 110 x 54 |
| `ğŸ¤– ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€` | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | 203 x 76 |
| `ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸` | Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸Ğº ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹ WB Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ | 7350 x 7 |
| `ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ` | ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ñ‹ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ², Ñ‚Ğ°Ñ€Ğ¸Ñ„Ñ‹ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ | 221 x 17 |
| `data` | Ğ¡Ğ»ÑƒĞ¶ĞµĞ±Ğ½Ñ‹Ğµ ÑĞ¿Ğ¸ÑĞºĞ¸ (enum-Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ) | 538 x 19 |

### 1.2 ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸   â”‚â”€â”€â”€â”€â–¶â”‚  Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ  â”‚â”€â”€â”€â”€â–¶â”‚    Ğ Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹      â”‚
â”‚  (ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ)  â”‚     â”‚    (Ğ¾Ñ‚ ÑĞ·ĞµÑ€Ğ°)    â”‚     â”‚   (Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
                        â”‚  Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚   (Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚)    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ (Reference Data)

### 2.1 ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ WB Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸`, ÑÑ‚Ñ€Ğ¾ĞºĞ¸ 7-7350

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:**

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|-----|----------|
| B | `category` | string | ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° (Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ) |
| C | `subject` | string | ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ (Ğ¿Ğ¾Ğ´ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ) â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ĞºĞ°Ğº ĞºĞ»ÑÑ‡ |
| D | `commission_fbo` | number (%) | ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ¿Ñ€Ğ¸ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸ Ğ½Ğ° ÑĞºĞ»Ğ°Ğ´Ğµ WB (FBO) |
| E | `commission_fbs_to_wb` | number (%) | ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ ĞµÑĞ»Ğ¸ Ğ²ĞµĞ·Ñƒ Ğ½Ğ° ÑĞºĞ»Ğ°Ğ´ WB (FBS) |
| F | `commission_fbs_direct` | number (%) | ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ ĞµÑĞ»Ğ¸ Ğ²ĞµĞ·Ñƒ ÑĞ°Ğ¼ Ğ´Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° |

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:**

```json
{
  "category": "ĞĞ²Ñ‚Ğ¾Ğ°ĞºÑĞµÑÑÑƒĞ°Ñ€Ñ‹ Ğ¸ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ±Ğ¾Ñ€ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",
  "subject": "Ğ­Ğ¼Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾",
  "commission_fbo": 16.5,
  "commission_fbs_to_wb": 20.0,
  "commission_fbs_direct": 3.0
}
```

**Ğ ĞµÑ„ĞµÑ€ĞµĞ½Ñ Ğ² Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°Ñ…:**
```
VLOOKUP($M6, 'ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸'!$C:$E, IF($AV6=data!A$8, 2, 3), 0)
```
- Ğ•ÑĞ»Ğ¸ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ = FBO â†’ Ğ±ĞµÑ€Ñ‘Ğ¼ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ D (commission_fbo)
- Ğ•ÑĞ»Ğ¸ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ = FBS â†’ Ğ±ĞµÑ€Ñ‘Ğ¼ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºÑƒ E (commission_fbs_to_wb)

---

### 2.2 Ğ¡ĞºĞ»Ğ°Ğ´Ñ‹ WB Ñ ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ`, ÑÑ‚Ñ€Ğ¾ĞºĞ¸ 9-102 (ĞšĞ¾Ñ€Ğ¾Ğ±), 94-101 (ĞœĞ¾Ğ½Ğ¾)

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:**

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | Ğ•Ğ´Ğ¸Ğ½Ğ¸Ñ†Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|-----|---------|----------|
| C | `delivery_type` | enum | - | Ğ¢Ğ¸Ğ¿ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸: "ĞšĞ¾Ñ€Ğ¾Ğ±" / "ĞœĞ¾Ğ½Ğ¾" |
| D | `warehouse_name` | string | - | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ»Ğ°Ğ´Ğ° WB |
| E | `delivery_1l` | number | â‚½ | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ·Ğ° Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ»Ğ¸Ñ‚Ñ€ |
| F | `delivery_extra_l` | number | â‚½ | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ğ¸Ñ‚Ñ€ |
| G | `storage_1l` | number | â‚½ | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ° Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ»Ğ¸Ñ‚Ñ€ Ğ² Ğ´ĞµĞ½ÑŒ |
| H | `storage_extra_l` | number | â‚½ | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ğ¸Ñ‚Ñ€ |

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²:**

```json
[
  {
    "delivery_type": "ĞšĞ¾Ñ€Ğ¾Ğ±",
    "warehouse_name": "ĞœĞ°ĞºÑ. Ğ¸Ğ· Ğ½Ğ°ÑˆĞ¸Ñ…",
    "delivery_1l": 101.2,
    "delivery_extra_l": 30.8,
    "storage_1l": 0.18,
    "storage_extra_l": 0.18
  },
  {
    "delivery_type": "ĞšĞ¾Ñ€Ğ¾Ğ±",
    "warehouse_name": "ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾",
    "delivery_1l": 92.0,
    "delivery_extra_l": 28.0,
    "storage_1l": 0.16,
    "storage_extra_l": 0.16
  },
  {
    "delivery_type": "ĞœĞ¾Ğ½Ğ¾",
    "warehouse_name": "ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾",
    "delivery_1l": 92.0,
    "delivery_extra_l": 28.0,
    "storage_1l": 53.75,
    "storage_extra_l": null
  }
]
```

**ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸:**
- "ĞœĞ°ĞºÑ. Ğ¸Ğ· Ğ½Ğ°ÑˆĞ¸Ñ…" â€” Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºĞ»Ğ°Ğ´, Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ¸Ğ· Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²
- Ğ”Ğ»Ñ Ñ‚Ğ¸Ğ¿Ğ° "ĞœĞ¾Ğ½Ğ¾" Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ Ğ·Ğ° Ğ¼Ğ¾Ğ½Ğ¾Ğ¿Ğ°Ğ»ĞµÑ‚Ñƒ, Ğ° Ğ½Ğµ Ğ·Ğ° Ğ»Ğ¸Ñ‚Ñ€
- ~93 ÑĞºĞ»Ğ°Ğ´Ğ° Ñ‚Ğ¸Ğ¿Ğ° "ĞšĞ¾Ñ€Ğ¾Ğ±", ~7 ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ² Ñ‚Ğ¸Ğ¿Ğ° "ĞœĞ¾Ğ½Ğ¾"

---

### 2.3 Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ñ‹ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ`, ÑÑ‚Ñ€Ğ¾ĞºĞ¸ 9-10, ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ J-P

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | ĞšĞ¾Ñ€Ğ¾Ğ± | ĞœĞ¾Ğ½Ğ¾ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|-------|------|----------|
| `base_delivery_1l` | 46 â‚½ | 41.4 â‚½ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ 1 Ğ»Ğ¸Ñ‚Ñ€Ğ° |
| `base_delivery_extra_l` | 14 â‚½ | 12.6 â‚½ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ¿. Ğ»Ğ¸Ñ‚Ñ€Ğ° |
| `base_storage_1l` | 0.08 â‚½ | 0 â‚½ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ 1 Ğ»Ğ¸Ñ‚Ñ€Ğ° Ğ² Ğ´ĞµĞ½ÑŒ |
| `base_storage_extra_l` | 0.08 â‚½ | 0 â‚½ | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ¿. Ğ»Ğ¸Ñ‚Ñ€Ğ° |
| `storage_monopalette` | 0 â‚½ | 22.5 â‚½ | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ 1 Ğ¼Ğ¾Ğ½Ğ¾Ğ¿Ğ°Ğ»ĞµÑ‚Ñ‹ Ğ² Ğ´ĞµĞ½ÑŒ |
| `return_processing` | 50 â‚½ | 50 â‚½ | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° |

**Ğ ĞµÑ„ĞµÑ€ĞµĞ½Ñ Ğ² Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ°Ñ…:**
```
'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!$K$9  // base_delivery_1l Ğ´Ğ»Ñ ĞšĞ¾Ñ€Ğ¾Ğ±
```

---

### 2.4 ĞšĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² (Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ WB)

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ`, ÑÑ‚Ñ€Ğ¾ĞºĞ¸ 15-40

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|-----|----------|
| J | `option_name` | string | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ |
| M | `option_count` | number | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ (Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ 1) |
| O | `option_type` | enum | "ĞĞ¿Ñ†Ğ¸Ñ" Ğ¸Ğ»Ğ¸ "ĞŸĞ°ĞºĞµÑ‚" |
| P | `option_rate` | number (%) | Ğ”Ğ¾Ğ±Ğ°Ğ²ĞºĞ° Ğº ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ |

**ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¾Ğ¿Ñ†Ğ¸Ğ¹:**

| ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ | Ğ¡Ñ‚Ğ°Ğ²ĞºĞ°, % |
|----------------|-----------|
| Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ° Ğ´ĞµĞ½ĞµĞ³ Ğ² Ğ»ÑĞ±Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ | 2.5% |
| ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ² | 2.5% |
| ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ² Ğ¿Ğ¾Ğ¸ÑĞºĞµ Ğ¸ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ | 2.3% |
| ĞĞ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ² ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ | 1.5% |
| ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Â«Ğ”Ğ¶ĞµĞ¼Â» | 1.5% |
| ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ñ†ĞµĞ½Ñ‹ | 1.5% |
| ĞĞºÑ†ĞµĞ½Ñ‚Ğ½Ñ‹Ğµ Ñ†Ğ²ĞµÑ‚Ğ° ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | 1.0% |
| ĞĞ²Ñ‚Ğ¾Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ²Ğ¸Ğ´ĞµĞ¾ Ğ² ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | 1.0% |
| Ğ—Ğ°ĞºÑ€ĞµĞ¿Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ° | 1.0% |
| ĞŸÑ€Ğ¾Ğ±Ğ½Ñ‹Ğµ Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ¸ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² | 0.75% |
| Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¼Ğ°ÑÑĞ¾Ğ²Ñ‹Ñ… Ğ·Ğ°ĞºĞ°Ğ·Ğ¾Ğ² | 0.75% |
| Ğ§Ğ°Ñ‚ Ñ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¼, Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ğ²ÑˆĞ¸Ğ¼ Ğ¾Ñ‚Ğ·Ñ‹Ğ² | 0.75% |
| Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ ĞŸÑ€ĞµĞ¼Ğ¸ÑƒĞ¼-Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ° | 0.75% |
| Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ñ‡Ñ‘Ñ‚ Â«ĞŸĞ¾Ğ¸ÑĞºĞ¾Ğ²Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹Â» | 0.75% |
| ĞŸĞ¾ĞºĞ°Ğ· Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ¸Ñ‡-ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ° Ğ±ĞµĞ· Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ | 0.7% |
| Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ñ€Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ğ¾Ğ¹ Ñ†ĞµĞ½Ğµ | 0.5% |
| Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ñ„Ğ¾Ñ‚Ğ¾ Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾ | 0.5% |
| Ğ˜Ğ˜-Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ½Ğ° Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ¸ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ | 0.5% |
| Ğ¡Ğ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ° Ğ² Ğ¡Ğ¦ | 0.5% |
| ĞŸĞµÑ€ĞµÑ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞºĞ»Ğ°Ğ´Ğ°Ğ¼Ğ¸ | 0.5% |
| Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ĞºÑƒÑ€ÑĞ°Ğ¼ Pro WB | 0.5% |
| ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ğ°Ñ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° | 0.5% |
| ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ½Ğ¾Ğµ Ñ€Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¸Ğµ Ğ¶Ğ°Ğ»Ğ¾Ğ± Ğ½Ğ° Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ | 0.5% |
| ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº Ñ†ĞµĞ»Ğ¸ Ğ² Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğµ Ğ»Ğ¾ÑĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ | 0.5% |
| Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¹ Ğ±ĞµĞ· Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğ¹ | 0.5% |
| ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€Ğ°ÑÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¸Ğµ Ğ¶Ğ°Ğ»Ğ¾Ğ± Ğ½Ğ° Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ | 0.25% |

---

### 2.5 Ğ¡Ğ»ÑƒĞ¶ĞµĞ±Ğ½Ñ‹Ğµ ÑĞ¿Ğ¸ÑĞºĞ¸ (Enums)

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `data`

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑÑ‹ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ (ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° A):**
```typescript
type Decision = "Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ Ğ·Ğ°ĞºÑƒĞ¿Ğ°ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ ğŸ’¸" | "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¼Ğ°Ñ€Ğ¶Ğ° ğŸ˜¢";
```

**Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ (ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° A):**
```typescript
type DeliveryType = "ĞšĞ¾Ñ€Ğ¾Ğ±" | "ĞœĞ¾Ğ½Ğ¾";
```

**ĞŸĞ»Ğ¾Ñ‰Ğ°Ğ´ĞºĞ¸ (ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° A):**
```typescript
type Platform = "WB";  // Ğ’ Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ WB
```

**ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ (ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° A):**
```typescript
type Direction = "FBO" | "FBS";
```

**Ğ¢Ğ¸Ğ¿ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°:**
```typescript
type TaxCalculationType = "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶" | "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°";
```

**Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ² (ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° B):**
- ĞĞ»Ğ¼Ğ°Ñ‚Ñ‹ ĞÑ‚Ğ°ĞºĞµĞ½Ñ‚, ĞÑÑ‚Ğ°Ğ½Ğ° 2, Ğ‘ĞµĞ»Ñ‹Ğµ Ğ¡Ñ‚Ğ¾Ğ»Ğ±Ñ‹, Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€ Ğ’Ğ¾Ñ€ÑˆĞ¸Ğ½ÑĞºĞ¾Ğµ, Ğ’Ğ¾Ğ»Ğ³Ğ¾Ğ³Ñ€Ğ°Ğ´, Ğ’Ğ¾Ñ€Ğ¾Ğ½ĞµĞ¶, Ğ“Ğ¾Ğ»Ğ¸Ñ†Ñ‹Ğ½Ğ¾ Ğ¡Ğ“Ğ¢, Ğ•ĞºĞ°Ñ‚ĞµÑ€Ğ¸Ğ½Ğ±ÑƒÑ€Ğ³... (Ğ²ÑĞµĞ³Ğ¾ ~100 ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²)

---

## 3. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### 3.1 ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ (Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ñ‚ĞµĞ»Ñ)

**Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº:** Ğ»Ğ¸ÑÑ‚ `â–¶ï¸ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ`, ÑÑ‚Ñ€Ğ¾ĞºĞ¸ 16-19

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº Ğ˜ĞŸ:**

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ |
|---------|------|-----|----------|--------|
| C | `ip_name` | string | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ˜ĞŸ | "Ğ˜ĞŸ Technest" |
| G | `margin_type` | enum | Ğ¢Ğ¸Ğ¿ Ğ¾Ñ†ĞµĞ½ĞºĞ¸ Ğ¼Ğ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ | "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°" |
| N | `min_margin` | number (%) | ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¸ĞµĞ¼Ğ»ĞµĞ¼Ğ°Ñ Ğ¼Ğ°Ñ€Ğ¶Ğ° | 0.10 (10%) |
| R | `tax_usn` | number (%) | ĞĞ°Ğ»Ğ¾Ğ³ Ğ£Ğ¡Ğ Â«Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹Â» + ÑÑ‚Ñ€Ğ°Ñ…Ğ¾Ğ²Ñ‹Ğµ | 0.08 (8%) |
| Y | `tax_type` | enum | Ğ¡Ğ¿Ğ¾ÑĞ¾Ğ± Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ° | "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶" |
| AD | `tax_nds` | number (%) | ĞĞ”Ğ¡ | 0 (0%) |
| AI | `acquiring` | number (%) | ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ ÑĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³Ğ° WB | 0.02 (2%) |

**Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¼Ğ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸:**
```typescript
type MarginType = "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°" | "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶";
```

**Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ:**
```javascript
// Ğ•ÑĞ»Ğ¸ margin_type === "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°"
//   â†’ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°ĞµĞ¼ BH (Ğ¼Ğ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°) Ñ min_margin
// Ğ•ÑĞ»Ğ¸ margin_type === "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶"
//   â†’ ÑÑ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°ĞµĞ¼ BG (Ğ¼Ğ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶) Ñ min_margin
```

---

### 3.2 ĞĞ¿Ñ†Ğ¸Ğ¸ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² Ğ´Ğ»Ñ Ğ˜ĞŸ

ĞšĞ°Ğ¶Ğ´Ğ¾Ğ¼Ñƒ Ğ˜ĞŸ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¾Ğ¿Ñ†Ğ¸Ğ¹ Ğ¸Ğ· ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ².
ĞĞ¿Ñ†Ğ¸Ğ¸ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ ĞºĞ°Ğº Ğ±ÑƒĞ»ĞµĞ²Ñ‹ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ TRUE/FALSE.

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° ÑÑƒĞ¼Ğ¼Ğ°Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ° Ğ¾Ğ¿Ñ†Ğ¸Ğ¹:**
```
SUMIF('ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!J:J, selected_options, 'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!P:P)
```

---

## 4. Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°

### 4.1 ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ Ğ²Ğ²Ğ¾Ğ´Ğ°

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ² Excel |
|---------|------|-----|----------|-------------------|
| C | `sku` | string | SKU / ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | "ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°, Ğ´Ğ»Ñ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°" |
| G | `purchase_price` | number (â‚½) | Ğ—Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½Ğ°Ñ Ñ†ĞµĞ½Ğ° 1 ÑˆÑ‚ | "Ğ—Ğ°ĞºÑƒĞ¿Ğ¾Ñ‡Ğ½Ğ°Ñ ÑĞµĞ±ĞµÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ 1 ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°" |
| H | `sale_price` | number (â‚½) | Ğ¦ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸ 1 ÑˆÑ‚ | "Ğ¦ĞµĞ½Ğ°, Ğ¿Ğ¾ ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ° 1 ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°" |
| L | `quantity` | number | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑˆÑ‚ÑƒĞº Ğ² Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸ | "ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ğ½Ğ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑˆÑ‚ÑƒĞº Ğ² Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼Ğ¾Ğ¹ Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸" |
| M | `category_wb` | string | ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° WB (Ğ¸Ğ· ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°) | "ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸, Ğ¿Ğ¾Ğ´Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸" |
| AF | `height` | number (ÑĞ¼) | Ğ’Ñ‹ÑĞ¾Ñ‚Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | "Ğ’Ñ‹ÑĞ¾Ñ‚Ğ°, ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ° Ğ¸ Ğ´Ğ»Ğ¸Ğ½Ğ° Ğ² ÑĞ°Ğ½Ñ‚Ğ¸Ğ¼ĞµÑ‚Ñ€Ğ°Ñ…" |
| AG | `width` | number (ÑĞ¼) | Ğ¨Ğ¸Ñ€Ğ¸Ğ½Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | â€” |
| AH | `length` | number (ÑĞ¼) | Ğ”Ğ»Ğ¸Ğ½Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° | â€” |

### 4.2 ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|-----|--------------|----------|
| D | `is_active` | boolean | true | Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€Ğ¾ĞºÑƒ Ğ² Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ |
| E | `manager` | string | "" | Ğ˜Ğ¼Ñ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ° |
| I | `spp_percent` | number (%) | 0.26 (26%) | ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ¡ĞŸĞŸ + ĞšĞ¾ÑˆĞµĞ»ĞµĞº WB |
| J | `cashback` | number (%) | 0 | ĞšĞµÑˆĞ±ÑĞº WB (Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñƒ) |
| AE | `days_to_sell` | number | 30 | Ğ”Ğ½ĞµĞ¹ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ñƒ Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸ |
| AN | `shipping_fbo` | number (â‚½) | 0 | Ğ¦ĞµĞ½Ğ° Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ğ½Ğ° FBO |
| AO | `shipping_fbs` | number (â‚½) | 0 | Ğ¦ĞµĞ½Ğ° Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹ Ğ½Ğ° FBS |
| AP | `extra_costs` | number (â‚½) | 0 | Ğ”Ğ¾Ğ¿. Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Ğ½Ğ° ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñƒ |
| AQ | `buyout_rate` | number (%) | 0.95 (95%) | ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ²Ñ‹ĞºÑƒĞ¿Ğ° |
| AR | `defect_rate` | number (%) | 0.003 (0.3%) | ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ±Ñ€Ğ°ĞºĞ° |
| AS | `marketing_rate` | number (%) | 0.02 (2%) | ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ğ½Ğ° Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³ |

### 4.3 Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ¸Ğ· ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ | Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ² Excel |
|---------|------|-----|----------|-------------------|
| AT | `ip_name` | enum | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ˜ĞŸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ | "Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ˜ĞŸ" |
| AU | `platform` | enum | "WB" | "Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ĞºĞ¸" |
| AV | `direction` | enum | "FBO" / "FBS" | "Ğ’Ñ‹Ğ±Ğ¾Ñ€ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ" |
| S | `warehouse` | enum | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ² WB | "ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ»Ğ°Ğ´Ğ° Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ·ĞºĞ¸" |
| T | `delivery_type` | enum | "ĞšĞ¾Ñ€Ğ¾Ğ±" / "ĞœĞ¾Ğ½Ğ¾" | "Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ĞºĞ°Ğº Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼, ĞºĞ¾Ñ€Ğ¾Ğ±Ğ°Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¼Ğ¾Ğ½Ğ¾Ğ¿Ğ°Ğ»ĞµÑ‚Ğ°Ğ¼Ğ¸" |
| U | `location_index` | number | 1.0+ | "ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ (Ğ˜Ğ› WB)" |
| Z | `acceptance_coef` | number | 0-âˆ | "ĞšĞ¾ÑÑ„Ñ„Ğ¸Ñ†Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸ WB" |
| AA | `acceptance_price` | number (â‚½) | 0 | "Ğ¦ĞµĞ½Ğ° Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸ WB Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ÑĞ´Ğ°Ñ‡Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°" |

---

## 5. Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²

### 5.1 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ°

```javascript
// AI6: ĞĞ±ÑŠÑ‘Ğ¼ (Ğ»Ğ¸Ñ‚Ñ€Ñ‹)
volume = (height * width * length) / 1000

// AJ6: Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠÑ‘Ğ¼ (ÑĞ²ĞµÑ€Ñ… 1 Ğ»Ğ¸Ñ‚Ñ€Ğ°)
extra_volume = Math.max(0, volume - 1)
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
AI6 = (AF6 * AG6 * AH6) / 1000
AJ6 = IF(AI6 > 1, (AI6 - 1), 0)
```

---

### 5.2 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¿Ğ»ĞµĞ¹ÑĞ°

```javascript
// N6: ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ WB
function calculateCommission(category, direction, ip_name, options) {
  // 1. Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ¸Ğ· ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°
  const baseCommission = lookupCommission(category, direction); // Ğ¸Ğ· 'ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸'

  // 2. Ğ”Ğ¾Ğ±Ğ°Ğ²ĞºĞ¸ Ğ¸Ğ· ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² (Ğ¾Ğ¿Ñ†Ğ¸Ğ¸ Ğ˜ĞŸ)
  const optionsSum = getIPOptionsSum(ip_name); // ÑÑƒĞ¼Ğ¼Ğ° Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ² Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ğ¿Ñ†Ğ¸Ğ¹

  // 3. Ğ¡ĞºĞ¸Ğ´ĞºĞ° Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ "ĞĞ´ĞµĞ¶Ğ´Ğ°" Ğ¸ "ĞĞ±ÑƒĞ²ÑŒ"
  let clothingDiscount = 0;
  const parentCategory = getParentCategory(category);
  if ((parentCategory === "ĞĞ´ĞµĞ¶Ğ´Ğ°" || parentCategory === "ĞĞ±ÑƒĞ²ÑŒ") && optionsSum >= 5) {
    clothingDiscount = -0.05 + 0.02; // -5% + 2% = -3%
  } else if (optionsSum >= 1 && hasPackageOption() && baseCommission >= 14.5
             && parentCategory !== "ĞĞ´ĞµĞ¶Ğ´Ğ°" && parentCategory !== "ĞĞ±ÑƒĞ²ÑŒ") {
    clothingDiscount = -0.03 + 0.02; // -3% + 2% = -1%
  }

  return baseCommission / 100 + optionsSum + clothingDiscount;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel (ÑƒĞ¿Ñ€Ğ¾Ñ‰Ñ‘Ğ½Ğ½Ğ°Ñ):**
```
N6 = VLOOKUP($M6, 'ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸'!$C:$E, IF($AV6="FBO", 2, 3), 0) / 100
     + Ğ¾Ğ¿Ñ†Ğ¸Ğ¸_Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ²_Ğ´Ğ»Ñ_Ğ˜ĞŸ
     + ÑĞºĞ¸Ğ´ĞºĞ°_Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°_Ğ¾Ğ±ÑƒĞ²ÑŒ
```

---

### 5.3 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸

```javascript
// BK6: Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸
function calculateLogistics(volume, extra_volume, warehouse, delivery_type, direction, location_index) {
  const warehouseData = getWarehouseData(warehouse, delivery_type);
  const baseRate = getBaseDeliveryRate(delivery_type); // 'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!$K$9

  if (volume <= 1) {
    // Ğ”Ğ»Ñ Ğ¼Ğ°Ğ»Ñ‹Ñ… Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ¾Ğ² â€” Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑÑ‚Ğ°Ğ²ĞºĞ¸
    const smallVolumeRates = {0.2: 23, 0.4: 26, 0.6: 29, 0.8: 30, 1.0: 32};
    const rate = getSmallVolumeRate(volume, smallVolumeRates);
    return rate * warehouseData.delivery_1l / baseRate;
  } else {
    // Ğ”Ğ»Ñ Ğ¾Ğ±ÑŠÑ‘Ğ¼Ğ¾Ğ² > 1Ğ»
    const il = (direction === "FBO") ? location_index : 1;
    return il * warehouseData.delivery_1l + il * warehouseData.delivery_extra_l * extra_volume;
  }
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BK6 = IF(AI6 <= 1,
        IF(AI6 <= 0.8, IF(AI6 <= 0.6, IF(AI6 <= 0.4, IF(AI6 <= 0.2, 23, 26), 29), 30), 32)
        * VLOOKUP(S6, FILTER('ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!D:E, 'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!C:C = T6), 2, FALSE)
        / 'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!$K$9,
      IF(AV6 = "FBO", U6, 1) * warehouse.delivery_1l
        + IF(AV6 = "FBO", U6, 1) * warehouse.delivery_extra_l * AJ6
     )
```

---

### 5.4 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ

```javascript
// BJ6: Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ
function calculateStorage(volume, extra_volume, warehouse, delivery_type, days_to_sell) {
  const warehouseData = getWarehouseData(warehouse, delivery_type);

  // Ğ’ĞĞ–ĞĞ: ĞĞ° WB Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ Ğ´Ğ¾ 60 Ğ´Ğ½ĞµĞ¹ (Ğ¾Ğ±Ğ½ÑƒĞ»ÑĞµĞ¼)
  // ĞĞ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞµ Ğ² ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğµ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ = 0
  return 0;

  // Ğ•ÑĞ»Ğ¸ Ğ±Ñ‹ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ñ‹Ğ»Ğ¾ Ğ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¼:
  // return (warehouseData.storage_1l + warehouseData.storage_extra_l * extra_volume) * (days_to_sell / 2);
}
```

---

### 5.5 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°

```javascript
// BN6: ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°
function getReturnProcessing(delivery_type) {
  // VLOOKUP(T6, 'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!J:P, 7, FALSE)
  // ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° P = "ĞÑ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°, â‚½"
  return delivery_type === "ĞšĞ¾Ñ€Ğ¾Ğ±" ? 50 : 50; // 50â‚½ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ²
}
```

---

### 5.6 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ñ†ĞµĞ½Ñ‹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°

```javascript
// BO6: Ğ¦ĞµĞ½Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°
function calculateReturnCost(direction, acceptance_price, shipping_fbs, extra_costs,
                             storage, logistics, return_processing, sale_price, marketing_rate) {
  if (direction === "FBS") {
    // FBS: Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ° + Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ·ĞºĞ° + Ğ´Ğ¾Ğ¿.Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ + Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ + Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ° + Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° + Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³
    return acceptance_price + shipping_fbs + extra_costs + storage + logistics
           + return_processing + sale_price * marketing_rate;
  } else {
    // FBO: Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ + Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ° + Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° + Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³
    return storage + logistics + return_processing + sale_price * marketing_rate;
  }
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BO6 = IF(AV6 = "FBS",
        (AA6 + AO6 + AP6 + BJ6 + BK6 + BN6) + H6 * AS6,
        (BJ6 + BK6 + BN6) + H6 * AS6)
```

---

### 5.7 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ÑĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³Ğ°

```javascript
// AL6: Ğ­ĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³ WB
function calculateAcquiring(sale_price, ip_name) {
  const ipSettings = getIPSettings(ip_name);
  return sale_price * ipSettings.acquiring;
}
```

---

### 5.8 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ´Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (ĞœĞŸ â†’ ĞšĞ»Ğ¸ĞµĞ½Ñ‚)

```javascript
// BP6: ĞœĞŸ â†’ ĞšĞ»Ğ¸ĞµĞ½Ñ‚
function calculateMPtoClient(acceptance_price, storage, logistics) {
  return acceptance_price + storage + logistics;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BP6 = AA6 + BJ6 + BK6
```

---

### 5.9 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ ĞœĞŸ Ğ² Ñ€ÑƒĞ±Ğ»ÑÑ…

```javascript
// BQ6: ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ ĞœĞŸ, â‚½
function calculateMPCommissionRub(sale_price, commission_rate) {
  return sale_price * commission_rate;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BQ6 = H6 * N6
```

---

### 5.10 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ñ… ÑƒĞ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğ¹ ĞœĞŸ

```javascript
// BR6: Ğ£Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ ĞœĞŸ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾
function calculateTotalDeductions(mp_to_client, mp_commission, sale_price, marketing_rate,
                                  buyout_rate, return_cost, acquiring, cashback) {
  return mp_to_client
         + mp_commission
         + sale_price * marketing_rate
         + ((1 - buyout_rate) / buyout_rate) * return_cost  // Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Ğ½Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ñ‹
         + acquiring
         + sale_price * cashback * 1.1;  // ĞºĞµÑˆĞ±ÑĞº + 10% ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ WB
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BR6 = BP6 + BQ6 + AS6 * H6 + ((1 - AQ6) / AQ6) * BO6 + AL6 + H6 * J6 * 1.1
```

---

### 5.11 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°

```javascript
// BT6: ĞĞ°Ğ»Ğ¾Ğ³ Ñ ĞĞ”Ğ¡
function calculateTax(sale_price, income, ip_name) {
  const ipSettings = getIPSettings(ip_name);

  let taxBase;
  if (ipSettings.tax_type === "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶") {
    taxBase = sale_price;
  } else {
    taxBase = income;  // Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´ Ğ½Ğ° ÑÑ‡Ñ‘Ñ‚
  }

  const taxUSN = taxBase * ipSettings.tax_usn;
  const taxNDS = taxBase * ipSettings.tax_nds;

  return taxUSN + taxNDS;
}
```

---

### 5.12 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ° Ğ½Ğ° ÑÑ‡Ñ‘Ñ‚

```javascript
// BW6: ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´ Ğ½Ğ° ÑÑ‡Ñ‘Ñ‚
function calculateIncome(sale_price, total_deductions) {
  return sale_price - total_deductions;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BW6 = H6 - BR6
```

---

### 5.13 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚

```javascript
// BV6: Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ñ‚Ñ€Ğ°Ñ‚Ğ¸Ğ¼
function calculateRealCosts(purchase_price, defect_rate, direction,
                           shipping_fbo, shipping_fbs, extra_costs, tax) {
  const shipping = (direction === "FBS") ? shipping_fbs : shipping_fbo;
  return purchase_price * defect_rate  // Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Ğ½Ğ° Ğ±Ñ€Ğ°Ğº
         + shipping                     // Ğ¾Ñ‚Ğ³Ñ€ÑƒĞ·ĞºĞ°
         + extra_costs                  // Ğ´Ğ¾Ğ¿. Ğ·Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹
         + tax                          // Ğ½Ğ°Ğ»Ğ¾Ğ³
         + purchase_price;              // Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ°
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BV6 = (G6 * AR6) + IF(AV6 = "FBS", AO6, AN6) + AP6 + BT6 + G6
```

---

### 5.14 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ¹ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸

```javascript
// BX6: Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ
function calculateProfit(income, real_costs) {
  return income - real_costs;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BX6 = BW6 - BV6
```

---

### 5.15 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ĞºĞ¾ÑÑ‚Ğ¾Ğ² Ğ±ĞµĞ· Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ¸

```javascript
// BU6: ĞšĞ¾ÑÑ‚Ñ‹ Ğ±ĞµĞ· Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ¸
function calculateCostsWithoutPurchase(purchase_price, defect_rate, direction,
                                       shipping_fbo, shipping_fbs, extra_costs,
                                       total_deductions, tax) {
  const shipping = (direction === "FBS") ? shipping_fbs : shipping_fbo;
  return purchase_price * defect_rate
         + shipping
         + extra_costs
         + total_deductions
         + tax;
}
```

**Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° Excel:**
```
BU6 = (G6 * AR6) + IF(AV6 = "FBS", AO6, AN6) + AP6 + BR6 + BT6
```

---

### 5.16 ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸

```javascript
// BF6: ROI (Ñ€ĞµĞ½Ñ‚Ğ°Ğ±ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ½Ğ²ĞµÑÑ‚Ğ¸Ñ†Ğ¸Ğ¹)
roi = profit / real_costs;  // BX6 / BV6

// BG6: ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶
margin_sales = profit / sale_price;  // BX6 / H6

// BH6: ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°
margin_income = profit / Math.abs(income);  // BX6 / |BW6|

// BC6: Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ 1 ÑˆÑ‚ = BX6
profit_per_unit = profit;

// BD6: Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸
profit_total = profit_per_unit * quantity;  // BC6 * L6

// BE6: Ğ’Ñ‹Ñ€ÑƒÑ‡ĞºĞ° Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸
revenue_total = sale_price * (1 - spp_percent) * quantity;  // H6 * (1-I6) * L6
```

---

### 5.17 CPO Ğ¸ CPS (ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ°)

```javascript
// AW6: CPO (Cost Per Order) â€” Ñ†ĞµĞ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·Ğ°
cpo = marketing_rate * sale_price;  // AS6 * H6

// AX6: CPS (Cost Per Sale) â€” Ñ†ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸
cps = (1 / buyout_rate) * sale_price * marketing_rate;  // (1/AQ6) * H6 * AS6

// AY6: ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹ Ğ² Ğ§ĞŸ
ad_percent_in_profit = cps / profit;  // AX6 / BC6
```

---

### 5.18 Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğµ

```javascript
// A6: Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ (âœ…/âŒ)
function getDecision(is_active, decision_status) {
  if (!is_active) return "";
  return decision_status === "Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ Ğ·Ğ°ĞºÑƒĞ¿Ğ°ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ ğŸ’¸" ? "âœ…" : "âŒ";
}

// F6: Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
function getStatus(margin_type, margin_sales, margin_income, min_margin) {
  const actualMargin = (margin_type === "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°")
                       ? margin_income
                       : margin_sales;

  return actualMargin >= min_margin
         ? "Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ Ğ·Ğ°ĞºÑƒĞ¿Ğ°ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ ğŸ’¸"
         : "ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¼Ğ°Ñ€Ğ¶Ğ° ğŸ˜¢";
}
```

---

## 6. Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ

### 6.1 Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹

| ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° | ĞŸĞ¾Ğ»Ğµ | Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|---------|----------|
| A | `decision` | `=IF(D6, IF(F6=..., "âœ…", "âŒ"), "")` | Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ |
| F | `status` | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° | Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ‚ÑƒÑ |
| BC | `profit_per_unit` | `=BX6` | Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ Ñ 1 ÑˆÑ‚, â‚½ |
| BD | `profit_total` | `=BC6*L6` | Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸, â‚½ |
| BE | `revenue_total` | `=H6*(1-I6)*L6` | Ğ’Ñ‹Ñ€ÑƒÑ‡ĞºĞ° Ğ¿Ğ°Ñ€Ñ‚Ğ¸Ğ¸, â‚½ |
| BF | `roi` | `=BC6/BV6` | ROI, % |
| BG | `margin_sales` | `=BC6/H6` | ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶, % |
| BH | `margin_income` | `=BC6/BW6` | ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°, % |
| BJ | `storage_cost` | `0` | Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ, â‚½ |
| BK | `logistics_cost` | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° | Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸, â‚½ |
| BN | `return_processing` | `=VLOOKUP(...)` | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°, â‚½ |
| BO | `return_cost` | `=IF(...)` | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ†ĞµĞ½Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ°, â‚½ |
| BP | `mp_to_client` | `=AA6+BJ6+BK6` | ĞœĞŸâ†’ĞšĞ»Ğ¸ĞµĞ½Ñ‚, â‚½ |
| BQ | `mp_commission` | `=H6*N6` | ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ ĞœĞŸ, â‚½ |
| BR | `mp_total` | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° | Ğ£Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ ĞœĞŸ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾, â‚½ |
| BS | `nds` | `=H6*tax_nds` | ĞĞ”Ğ¡, â‚½ |
| BT | `tax` | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° | ĞĞ°Ğ»Ğ¾Ğ³ Ñ ĞĞ”Ğ¡, â‚½ |
| BU | `costs_no_purchase` | `=(G6*AR6)+...` | ĞšĞ¾ÑÑ‚Ñ‹ Ğ±ĞµĞ· Ğ·Ğ°ĞºÑƒĞ¿ĞºĞ¸, â‚½ |
| BV | `real_costs` | `=(G6*AR6)+...+G6` | Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ñ‚Ñ€Ğ°Ñ‚Ğ¸Ğ¼, â‚½ |
| BW | `income` | `=H6-BR6` | ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´ Ğ½Ğ° ÑÑ‡Ñ‘Ñ‚, â‚½ |
| BX | `profit` | `=BW6-BV6` | Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ, â‚½ |

---

## 7. Ğ¡Ğ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸

### 7.1 Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Ğ’Ğ¥ĞĞ”ĞĞ«Ğ• Ğ”ĞĞĞĞ«Ğ•                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ purchase_price (G) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚ sale_price (H) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ height/width/length (AF,AG,AH) â”€â”€â”              â”‚          â”‚            â”‚
â”‚ category (M) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚ warehouse (S) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚            â”‚
â”‚ delivery_type (T) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚          â”‚            â”‚
â”‚ direction (AV) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚            â”‚
â”‚ ip_name (AT) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚ buyout_rate (AQ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚          â”‚            â”‚
â”‚ defect_rate (AR) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚          â”‚            â”‚
â”‚ marketing_rate (AS) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚          â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ĞŸĞ ĞĞœĞ•Ğ–Ğ£Ğ¢ĞĞ§ĞĞ«Ğ• Ğ ĞĞ¡Ğ§ĞĞ¢Ğ«                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  volume (AI) = height * width * length / 1000                          â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â–¼                                                                 â”‚
â”‚  extra_volume (AJ) = max(0, volume - 1)                                â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚       â–¼                              â–¼                                 â”‚
â”‚  logistics (BK) â—„â”€â”€â”€â”€ warehouse â—„â”€â”€ delivery_type                      â”‚
â”‚       â”‚                              â”‚                                 â”‚
â”‚       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚       â”‚         â–¼                                                      â”‚
â”‚  storage (BJ) = 0  (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ Ğ´Ğ¾ 60 Ğ´Ğ½ĞµĞ¹)                             â”‚
â”‚       â”‚                                                                â”‚
â”‚       â–¼                                                                â”‚
â”‚  mp_to_client (BP) = acceptance + storage + logistics                  â”‚
â”‚       â”‚                                                                â”‚
â”‚       â”‚         commission (N) â—„â”€â”€ category + ip_options               â”‚
â”‚       â”‚              â”‚                                                 â”‚
â”‚       â”‚              â–¼                                                 â”‚
â”‚       â”‚         mp_commission (BQ) = sale_price * commission           â”‚
â”‚       â”‚              â”‚                                                 â”‚
â”‚       â”‚              â”‚    return_processing (BN) â—„â”€â”€ delivery_type     â”‚
â”‚       â”‚              â”‚              â”‚                                  â”‚
â”‚       â”‚              â”‚              â–¼                                  â”‚
â”‚       â”‚              â”‚    return_cost (BO)                             â”‚
â”‚       â”‚              â”‚              â”‚                                  â”‚
â”‚       â”‚              â”‚              â”‚     acquiring (AL) â—„â”€â”€ ip        â”‚
â”‚       â”‚              â”‚              â”‚         â”‚                        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚                                                          â–¼             â”‚
â”‚                               total_deductions (BR)                    â”‚
â”‚                                          â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Ğ˜Ğ¢ĞĞ“ĞĞ’Ğ«Ğ• Ğ ĞĞ¡Ğ§ĞĞ¢Ğ«                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  income (BW) = sale_price - total_deductions                           â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”‚         tax (BT) â—„â”€â”€ income/sale_price + ip_tax_settings       â”‚
â”‚       â”‚              â”‚                                                  â”‚
â”‚       â”‚              â–¼                                                  â”‚
â”‚       â”‚    real_costs (BV) = purchase * (1 + defect) + shipping        â”‚
â”‚       â”‚                      + extra + tax                              â”‚
â”‚       â”‚              â”‚                                                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                                         â–¼                              â”‚
â”‚                              profit (BX) = income - real_costs         â”‚
â”‚                                         â”‚                              â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                    â–¼                    â–¼                    â–¼         â”‚
â”‚               roi (BF)          margin_sales (BG)    margin_income(BH) â”‚
â”‚               = profit          = profit             = profit          â”‚
â”‚               / real_costs      / sale_price         / income          â”‚
â”‚                    â”‚                    â”‚                    â”‚         â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                         â”‚                              â”‚
â”‚                                         â–¼                              â”‚
â”‚                              decision (A, F) â—„â”€â”€ margin vs min_margin  â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Ğ ĞµÑ„ĞµÑ€ĞµĞ½ÑÑ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ»Ğ¸ÑÑ‚Ğ°Ğ¼Ğ¸

| Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº | Ğ¦ĞµĞ»ÑŒ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|------|----------|
| `'ğŸ“„ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸'!$C:$E` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!N` | ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ |
| `'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!D:H` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!BK` | Ğ¢Ğ°Ñ€Ğ¸Ñ„Ñ‹ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¿Ğ¾ ÑĞºĞ»Ğ°Ğ´Ñƒ |
| `'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!J:P` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!BN` | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° |
| `'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!$K$9` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!BK` | Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚Ğ°Ñ€Ğ¸Ñ„ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ |
| `'ğŸ”’ Ğ”Ğ¾Ğ¿. Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ'!J:P` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!N` | ĞĞ¿Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ° Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² |
| `'â–¶ï¸ Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ'!$R:$R` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€!N` | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ |
| `data!A` | `ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€` | Enum-Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ (FBO/FBS, ĞšĞ¾Ñ€Ğ¾Ğ±/ĞœĞ¾Ğ½Ğ¾) |

---

## 8. Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ

### 8.1 TypeScript Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹

```typescript
// ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ
interface IPSettings {
  ip_name: string;
  margin_type: "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°" | "ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶";
  min_margin: number;      // 0-1 (0.1 = 10%)
  tax_usn: number;         // 0-1
  tax_type: "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶" | "ĞĞ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ°";
  tax_nds: number;         // 0-1
  acquiring: number;       // 0-1
  selected_options: string[];  // Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ğ¿Ñ†Ğ¸Ğ¹
}

// ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹
interface CategoryCommission {
  category: string;
  subject: string;
  commission_fbo: number;      // Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚
  commission_fbs_to_wb: number;
  commission_fbs_direct: number;
}

// Ğ¡ĞºĞ»Ğ°Ğ´
interface Warehouse {
  delivery_type: "ĞšĞ¾Ñ€Ğ¾Ğ±" | "ĞœĞ¾Ğ½Ğ¾";
  warehouse_name: string;
  delivery_1l: number;      // â‚½
  delivery_extra_l: number; // â‚½
  storage_1l: number;       // â‚½
  storage_extra_l: number | null;  // â‚½ Ğ¸Ğ»Ğ¸ null Ğ´Ğ»Ñ ĞœĞ¾Ğ½Ğ¾
}

// ĞĞ¿Ñ†Ğ¸Ñ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ°
interface TariffOption {
  option_name: string;
  option_type: "ĞĞ¿Ñ†Ğ¸Ñ" | "ĞŸĞ°ĞºĞµÑ‚";
  option_rate: number;  // Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚ (0.025 = 2.5%)
}

// Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°
interface ProductInput {
  sku: string;
  purchase_price: number;
  sale_price: number;
  quantity: number;
  category_wb: string;
  height: number;
  width: number;
  length: number;

  // ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ
  is_active?: boolean;
  manager?: string;
  spp_percent?: number;
  cashback?: number;
  days_to_sell?: number;
  shipping_fbo?: number;
  shipping_fbs?: number;
  extra_costs?: number;
  buyout_rate?: number;
  defect_rate?: number;
  marketing_rate?: number;

  // Ğ’Ñ‹Ğ±Ğ¾Ñ€
  ip_name: string;
  platform: "WB";
  direction: "FBO" | "FBS";
  warehouse: string;
  delivery_type: "ĞšĞ¾Ñ€Ğ¾Ğ±" | "ĞœĞ¾Ğ½Ğ¾";
  location_index?: number;
  acceptance_coef?: number;
  acceptance_price?: number;
}

// Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°
interface CalculationResult {
  // ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»Ğ¸
  profit_per_unit: number;
  profit_total: number;
  revenue_total: number;
  roi: number;
  margin_sales: number;
  margin_income: number;

  // ĞŸÑ€Ğ¾Ğ¼ĞµĞ¶ÑƒÑ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ
  volume: number;
  extra_volume: number;
  commission_rate: number;
  logistics_cost: number;
  storage_cost: number;
  return_processing: number;
  return_cost: number;
  mp_to_client: number;
  mp_commission: number;
  mp_total: number;
  tax: number;
  costs_no_purchase: number;
  real_costs: number;
  income: number;
  profit: number;

  // ĞœĞ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³
  cpo: number;
  cps: number;
  ad_percent_in_profit: number;

  // Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ
  decision: "âœ…" | "âŒ" | "";
  status: string;
}
```

### 8.2 Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```typescript
const validationRules = {
  purchase_price: { min: 0, max: 1000000, required: true },
  sale_price: { min: 0, max: 10000000, required: true },
  quantity: { min: 1, max: 1000000, required: true },
  height: { min: 0.1, max: 1000, required: true },
  width: { min: 0.1, max: 1000, required: true },
  length: { min: 0.1, max: 1000, required: true },
  spp_percent: { min: 0, max: 1, default: 0.26 },
  cashback: { min: 0, max: 1, default: 0 },
  days_to_sell: { min: 1, max: 365, default: 30 },
  buyout_rate: { min: 0.01, max: 1, default: 0.95 },
  defect_rate: { min: 0, max: 1, default: 0.003 },
  marketing_rate: { min: 0, max: 1, default: 0.02 },
  location_index: { min: 0.1, max: 10, default: 1 },
};
```

---

## 9. Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ React

### 9.1 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ (State)

```typescript
interface AppState {
  // Ğ¡Ğ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ (Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ·)
  referenceData: {
    categories: CategoryCommission[];
    warehouses: Warehouse[];
    tariffOptions: TariffOption[];
    baseRates: {
      korob: BaseRates;
      mono: BaseRates;
    };
  };

  // ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
  userSettings: {
    ipList: IPSettings[];
    selectedWarehouses: string[];  // Ğ´Ğ»Ñ "ĞœĞ°ĞºÑ. Ğ¸Ğ· Ğ½Ğ°ÑˆĞ¸Ñ…"
  };

  // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚
  currentProduct: ProductInput | null;
  calculationResult: CalculationResult | null;

  // Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
  products: Array<ProductInput & { result: CalculationResult }>;
}
```

### 9.2 ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Calculator/
â”‚   â”‚   â”œâ”€â”€ ProductForm.tsx          # Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ²Ğ²Ğ¾Ğ´Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°
â”‚   â”‚   â”œâ”€â”€ DimensionsInput.tsx      # Ğ’Ğ²Ğ¾Ğ´ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ CategorySelect.tsx       # ĞĞ²Ñ‚Ğ¾ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ñ‚ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ WarehouseSelect.tsx      # Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑĞºĞ»Ğ°Ğ´Ğ°
â”‚   â”‚   â”œâ”€â”€ ResultCard.tsx           # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°
â”‚   â”‚   â””â”€â”€ DecisionBadge.tsx        # Ğ‘ĞµĞ¹Ğ´Ğ¶ âœ…/âŒ
â”‚   â”‚
â”‚   â”œâ”€â”€ Settings/
â”‚   â”‚   â”œâ”€â”€ IPSettingsForm.tsx       # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ
â”‚   â”‚   â”œâ”€â”€ TaxSettings.tsx          # ĞĞ°Ğ»Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
â”‚   â”‚   â”œâ”€â”€ TariffOptions.tsx        # ĞĞ¿Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€Ğ°
â”‚   â”‚   â””â”€â”€ WarehouseSelector.tsx    # Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²
â”‚   â”‚
â”‚   â”œâ”€â”€ Reference/
â”‚   â”‚   â”œâ”€â”€ CommissionsTable.tsx     # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ WarehousesTable.tsx      # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²
â”‚   â”‚   â””â”€â”€ TariffOptionsTable.tsx   # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¾Ğ¿Ñ†Ğ¸Ğ¹
â”‚   â”‚
â”‚   â””â”€â”€ Products/
â”‚       â”œâ”€â”€ ProductsTable.tsx        # Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
â”‚       â”œâ”€â”€ ProductRow.tsx           # Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°
â”‚       â””â”€â”€ BatchImport.tsx          # Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ¸Ğ· Excel
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useCalculator.ts             # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°
â”‚   â”œâ”€â”€ useCategories.ts             # ĞŸĞ¾Ğ¸ÑĞº ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
â”‚   â””â”€â”€ useWarehouses.ts             # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ calculator.ts                # Ğ’ÑĞµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°
â”‚   â”œâ”€â”€ validators.ts                # Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
â”‚   â””â”€â”€ formatters.ts                # Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡Ğ¸ÑĞµĞ»
â”‚
â””â”€â”€ data/
    â”œâ”€â”€ categories.json              # 7350 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
    â”œâ”€â”€ warehouses.json              # ~100 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
    â””â”€â”€ tariffOptions.json           # ~26 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
```

### 9.3 Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ğ² ĞºĞ¾Ğ´Ğµ

```typescript
// utils/calculator.ts

export function calculateUnitEconomics(
  input: ProductInput,
  settings: IPSettings,
  warehouses: Warehouse[],
  categories: CategoryCommission[],
  tariffOptions: TariffOption[]
): CalculationResult {
  // 1. ĞĞ±ÑŠÑ‘Ğ¼
  const volume = (input.height * input.width * input.length) / 1000;
  const extraVolume = Math.max(0, volume - 1);

  // 2. ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ
  const category = categories.find(c => c.subject === input.category_wb);
  const baseCommission = input.direction === "FBO"
    ? category.commission_fbo
    : category.commission_fbs_to_wb;

  const optionsSum = settings.selected_options.reduce((sum, optName) => {
    const opt = tariffOptions.find(o => o.option_name === optName);
    return sum + (opt?.option_rate || 0);
  }, 0);

  const commissionRate = baseCommission / 100 + optionsSum;

  // 3. Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ°
  const warehouse = warehouses.find(
    w => w.warehouse_name === input.warehouse && w.delivery_type === input.delivery_type
  );
  const logistics = calculateLogistics(volume, extraVolume, warehouse, input);

  // 4. ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹...
  const storage = 0; // Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ Ğ´Ğ¾ 60 Ğ´Ğ½ĞµĞ¹
  const returnProcessing = 50;
  const acquiring = input.sale_price * settings.acquiring;

  // ... (Ğ²ÑĞµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ğ¸Ğ· Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ° 5)

  return result;
}
```

### 9.4 ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

**MVP (Ğ²ĞµÑ€ÑĞ¸Ñ 1):**
1. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ° ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ Ñ Ğ°Ğ²Ñ‚Ğ¾ĞºĞ¾Ğ¼Ğ¿Ğ»Ğ¸Ñ‚Ğ¾Ğ¼
2. Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ²Ğ²Ğ¾Ğ´Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° (Ñ†ĞµĞ½Ğ°, Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹, ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ)
3. Ğ’Ñ‹Ğ±Ğ¾Ñ€ ÑĞºĞ»Ğ°Ğ´Ğ° Ğ¸ Ñ‚Ğ¸Ğ¿Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
4. Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸ Ğ¸ Ğ¼Ğ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
5. ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ° Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸ĞµĞ¼ âœ…/âŒ

**Ğ’ĞµÑ€ÑĞ¸Ñ 2:**
6. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ˜ĞŸ (Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸, ÑĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³)
7. ĞšĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ Ñ‚Ğ°Ñ€Ğ¸Ñ„Ğ¾Ğ² (Ğ¾Ğ¿Ñ†Ğ¸Ğ¸)
8. Ğ£Ñ‡Ñ‘Ñ‚ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ¾Ğ² Ğ¸ Ğ²Ñ‹ĞºÑƒĞ¿Ğ°
9. Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ñ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹/Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹
10. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² localStorage

**Ğ’ĞµÑ€ÑĞ¸Ñ 3:**
11. Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ¸Ğ· Excel
12. Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
13. Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
14. Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²
15. Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°

---

## ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ A: ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞºĞ»Ğ°Ğ´Ğ¾Ğ²

<details>
<summary>Ğ¡ĞºĞ»Ğ°Ğ´Ñ‹ Ñ‚Ğ¸Ğ¿Ğ° "ĞšĞ¾Ñ€Ğ¾Ğ±" (93 ÑˆÑ‚)</summary>

| Ğ¡ĞºĞ»Ğ°Ğ´ | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° 1Ğ» | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ´Ğ¾Ğ¿.Ğ» | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ 1Ğ» | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾Ğ¿.Ğ» |
|-------|-------------|----------------|-------------|----------------|
| ĞœĞ°ĞºÑ. Ğ¸Ğ· Ğ½Ğ°ÑˆĞ¸Ñ… | 101.2 | 30.8 | 0.18 | 0.18 |
| Ğ¡Ğ¦ Ğ‘ĞµĞ»Ğ°Ñ Ğ”Ğ°Ñ‡Ğ° | 94.3 | 28.7 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ Ğ¾ÑÑ‚Ğ¾Ğ²-Ğ½Ğ°-Ğ”Ğ¾Ğ½Ñƒ | 80.5 | 24.5 | 0.14 | 0.14 |
| Ğ¡Ğ¦ Ğ’Ğ»Ğ°Ğ´Ğ¸ĞºĞ°Ğ²ĞºĞ°Ğ· | 59.8 | 18.2 | 0.1 | 0.1 |
| Ğ¡Ğ¦ Ğ›Ğ¸Ğ¿ĞµÑ†Ğº | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞĞ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸Ñ€ÑĞº ĞŸĞ°ÑĞµÑ‡Ğ½Ğ°Ñ | 161.0 | 49.0 | 0.28 | 0.28 |
| Ğ¡Ğ¦ Ğ˜Ğ¶ĞµĞ²ÑĞº | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞĞ¼ÑĞº | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ Ğ¥Ğ°Ğ±Ğ°Ñ€Ğ¾Ğ²ÑĞº | 87.4 | 26.6 | 0.15 | 0.15 |
| Ğ¡Ğ¦ ĞÑÑ‚Ñ€Ğ°Ñ…Ğ°Ğ½ÑŒ | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ Ğ§Ğ¸Ñ‚Ğ° 2 | 59.8 | 18.2 | 0.1 | 0.1 |
| Ğ¡Ğ¦ Ğ£Ñ„Ğ° | 96.6 | 29.4 | 0.17 | 0.17 |
| Ğ¡Ğ¦ Ğ¨Ñ‹Ğ¼ĞºĞµĞ½Ñ‚ | 52.9 | 16.1 | 0.09 | 0.09 |
| Ğ¡Ğ¦ Ğ¢Ğ¾Ğ¼ÑĞº | 92.0 | 28.0 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ§ĞµĞ»ÑĞ±Ğ¸Ğ½ÑĞº 2 | 82.8 | 25.2 | 0.14 | 0.14 |
| Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³ Ğ¡Ğ“Ğ¢ | 48.3 | 14.7 | 0.08 | 0.08 |
| Ğ¯Ñ€Ğ¾ÑĞ»Ğ°Ğ²Ğ»ÑŒ Ğ¡Ğ“Ğ¢ | 46.0 | 14.0 | 0.08 | 0.08 |
| Ğ¢Ğ°ÑˆĞºĞµĞ½Ñ‚ 1 | 46.0 | 14.0 | 0.08 | 0.08 |
| Ğ¡Ğ¦ Ğ§ĞµĞ±Ğ¾ĞºÑĞ°Ñ€Ñ‹ 2 | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¦ Ğ£Ğ»ÑŒÑĞ½Ğ¾Ğ²ÑĞº | 82.8 | 25.2 | 0.14 | 0.14 |
| ĞĞ±ÑƒÑ…Ğ¾Ğ²Ğ¾ | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞšÑƒÑ€ÑĞº | 73.6 | 22.4 | 0.13 | 0.13 |
| ĞĞ»Ğ¼Ğ°Ñ‚Ñ‹ ĞÑ‚Ğ°ĞºĞµĞ½Ñ‚ | 66.7 | 20.3 | 0.12 | 0.12 |
| Ğ¡Ğ¦ Ğ˜Ñ€ĞºÑƒÑ‚ÑĞº | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¾Ñ„Ñ€Ğ¸Ğ½Ğ¾ Ğ¡Ğ“Ğ¢ | 43.7 | 13.3 | 0.08 | 0.08 |
| Ğ¡Ğ¦ ĞœÑƒÑ€Ğ¼Ğ°Ğ½ÑĞº | 75.9 | 23.1 | 0.13 | 0.13 |
| Ğ Ğ°Ğ´ÑƒĞ¼Ğ»Ñ Ğ¡Ğ“Ğ¢ | 43.7 | 13.3 | 0.08 | 0.08 |
| ĞšÑ€Ğ°ÑĞ½Ğ¾Ğ´Ğ°Ñ€ (Ğ¢Ğ¸Ñ…Ğ¾Ñ€ĞµÑ†ĞºĞ°Ñ) | 75.9 | 23.1 | 0.13 | 0.13 |
| Ğ§ĞµĞ»ÑĞ±Ğ¸Ğ½ÑĞº Ğ¡Ğ“Ğ¢ | 46.0 | 14.0 | 0.08 | 0.08 |
| Ğ¡Ğ¦ ĞšÑ€Ñ‹Ğ»Ğ¾Ğ²ÑĞºĞ°Ñ | 64.4 | 19.6 | 0.12 | 0.12 |
| Ğ¡Ğ¦ Ğ’Ğ¾Ğ»Ğ¾Ğ³Ğ´Ğ° 2 | 85.1 | 25.9 | 0.15 | 0.15 |
| Ğ‘ĞµĞ»Ñ‹Ğµ Ğ¡Ñ‚Ğ¾Ğ»Ğ±Ñ‹ | 128.8 | 39.2 | 0.22 | 0.22 |
| Ğ•ĞºĞ°Ñ‚ĞµÑ€Ğ¸Ğ½Ğ±ÑƒÑ€Ğ³ - ĞŸĞµÑ€ÑĞ¿ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ 12/2 | 55.2 | 16.8 | 0.15 | 0.15 |
| ĞšÑƒĞ·Ğ½ĞµÑ†Ğº Ğ¡Ğ“Ğ¢ | 46.0 | 14.0 | 0.08 | 0.08 |
| Ğ¡Ñ† Ğ‘Ñ€ÑĞ½ÑĞº 2 | 71.3 | 21.7 | 0.12 | 0.12 |
| Ğ­Ğ»ĞµĞºÑ‚Ñ€Ğ¾ÑÑ‚Ğ°Ğ»ÑŒ | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞĞ±Ğ°ĞºĞ°Ğ½ 2 | 92.0 | 28.0 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ¡Ğ¼Ğ¾Ğ»ĞµĞ½ÑĞº 3 | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞŸĞµÑ€Ğ¼ÑŒ 2 | 75.9 | 23.1 | 0.13 | 0.13 |
| ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾ | 92.0 | 28.0 | 0.16 | 0.16 |
| Ğ ÑĞ·Ğ°Ğ½ÑŒ (Ğ¢ÑÑˆĞµĞ²ÑĞºĞ¾Ğµ) | 64.4 | 19.6 | 0.11 | 0.11 |
| ĞĞ¾Ğ²Ğ¾ÑĞµĞ¼ĞµĞ¹ĞºĞ¸Ğ½Ğ¾ | 39.1 | 11.9 | 0.14 | 0.14 |
| Ğ’Ğ¾Ñ€Ğ¾Ğ½ĞµĞ¶ | 34.5 | 10.5 | 0.13 | 0.13 |
| Ğ¡Ğ¦ Ğ‘Ğ°Ğ¹ÑĞµÑ€ĞºĞµ | 62.1 | 18.9 | 0.11 | 0.11 |
| ĞšĞ¾Ñ‚Ğ¾Ğ²ÑĞº | 64.4 | 19.6 | 0.11 | 0.11 |
| Ğ¡Ğ¦ ĞŸÑÑ‚Ğ¸Ğ³Ğ¾Ñ€ÑĞº (Ğ­Ñ‚Ğ¾ĞºĞ°) | 62.1 | 18.9 | 0.11 | 0.11 |
| ĞĞ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸Ñ€ÑĞº | 204.7 | 62.3 | 0.36 | 0.36 |
| Ğ’Ğ»Ğ°Ğ´Ğ¸Ğ¼Ğ¸Ñ€ Ğ’Ğ¾Ñ€ÑˆĞ¸Ğ½ÑĞºĞ¾Ğµ | 59.8 | 18.2 | 0.1 | 0.1 |
| Ğ’Ğ¾Ğ»Ğ³Ğ¾Ğ³Ñ€Ğ°Ğ´ | 50.6 | 15.4 | 0.09 | 0.09 |
| Ğ•ĞºĞ°Ñ‚ĞµÑ€Ğ¸Ğ½Ğ±ÑƒÑ€Ğ³ - Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ñ‚ĞµĞ»ĞµĞ¹ 14Ğ³ | 103.5 | 31.5 | 0.18 | 0.18 |
| Ğ¡Ğ°Ñ€Ğ°Ğ¿ÑƒĞ» | 39.1 | 11.9 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞšÑƒĞ·Ğ½ĞµÑ†Ğº | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞšĞµĞ¼ĞµÑ€Ğ¾Ğ²Ğ¾ | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ Ğ•Ñ€ĞµĞ²Ğ°Ğ½ | 71.3 | 21.7 | 0.12 | 0.12 |
| Ğ¡Ğ¦ Ğ‘Ğ°Ñ€Ğ½Ğ°ÑƒĞ» | 101.2 | 30.8 | 0.18 | 0.18 |
| Ğ¢ÑƒĞ»Ğ° | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞÑ€Ñ…Ğ°Ğ½Ğ³ĞµĞ»ÑŒÑĞº (ÑƒĞ» Ğ›ĞµĞ½Ğ¸Ğ½Ğ°) | 82.8 | 25.2 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞœĞ¸Ğ½ÑĞº | 89.7 | 27.3 | 0.16 | 0.16 |
| Ğ¡Ğ¦ ĞÑÑ‚Ñ€Ğ°Ñ…Ğ°Ğ½ÑŒ (Ğ¡Ğ¾Ğ»ÑĞ½ĞºĞ°) | 71.3 | 21.7 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞšĞ¸Ñ€Ğ¾Ğ² | 85.1 | 25.9 | 0.15 | 0.15 |
| Ğ¡Ğ¦ Ğ§ĞµÑ€ĞµĞ¿Ğ¾Ğ²ĞµÑ† | 69.0 | 21.0 | 0.12 | 0.12 |
| ĞšĞ°Ğ·Ğ°Ğ½ÑŒ | 101.2 | 30.8 | 0.18 | 0.18 |
| Ğ¡Ğ¦ ĞĞ¸Ğ¶Ğ½Ğ¸Ğ¹ Ğ¢Ğ°Ğ³Ğ¸Ğ» | 96.6 | 29.4 | 0.17 | 0.17 |
| ĞĞ±ÑƒÑ…Ğ¾Ğ²Ğ¾ Ğ¡Ğ“Ğ¢ | 34.5 | 10.5 | 0.06 | 0.06 |
| Ğ¡Ğ¦ ĞÑ€ĞµĞ½Ğ±ÑƒÑ€Ğ³ Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ | 89.7 | 27.3 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ’Ğ¾Ñ€Ğ¾Ğ½ĞµĞ¶ | 80.5 | 24.5 | 0.14 | 0.14 |
| Ğ¡Ğ¦ ĞĞºÑ‚Ğ¾Ğ±Ğµ | 66.7 | 20.3 | 0.12 | 0.12 |
| Ğ¡Ğ¦ Ğ‘ĞµĞ»Ğ¾Ğ³Ğ¾Ñ€ÑĞº | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³ (Ğ£Ñ‚ĞºĞ¸Ğ½Ğ° Ğ—Ğ°Ğ²Ğ¾Ğ´ÑŒ) | 138.0 | 42.0 | 0.24 | 0.24 |
| Ğ“Ğ¾Ğ»Ğ¸Ñ†Ñ‹Ğ½Ğ¾ Ğ¡Ğ“Ğ¢ | 34.5 | 10.5 | 0.06 | 0.06 |
| Ğ¡Ğ¦ Ğ¡Ğ¾Ñ„ÑŒĞ¸Ğ½Ğ¾ | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡Ğ¦ ĞĞ¾Ğ²Ğ¾ĞºÑƒĞ·Ğ½ĞµÑ†Ğº | 82.8 | 25.2 | 0.14 | 0.14 |
| Ğ¡Ğ¦ Ğ¡Ğ°Ğ±ÑƒÑ€Ğ¾Ğ²Ğ¾ | 59.8 | 18.2 | 0.1 | 0.1 |
| Ğ¡Ğ¦ Ğ’Ğ½ÑƒĞºĞ¾Ğ²Ğ¾ | 80.5 | 24.5 | 0.14 | 0.14 |
| ĞÑÑ‚Ğ°Ğ½Ğ° 2 | 66.7 | 20.3 | 0.12 | 0.12 |
| Ğ§ĞµÑ…Ğ¾Ğ² 2 | 94.3 | 28.7 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ¡Ğ¸Ğ¼Ñ„ĞµÑ€Ğ¾Ğ¿Ğ¾Ğ»ÑŒ | 66.7 | 20.3 | 0.12 | 0.12 |
| Ğ©ĞµÑ€Ğ±Ğ¸Ğ½ĞºĞ° | 92.0 | 28.0 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ¯Ñ€Ğ¾ÑĞ»Ğ°Ğ²Ğ»ÑŒ Ğ“Ñ€Ğ¾Ğ¼Ğ¾Ğ²Ğ° | 73.6 | 22.4 | 0.13 | 0.13 |
| Ğ¡ĞºĞ»Ğ°Ğ´ Ğ¨ÑƒÑˆĞ°Ñ€Ñ‹ | 101.2 | 30.8 | 0.18 | 0.18 |
| Ğ¡Ğ¦ ĞŸÑĞºĞ¾Ğ² | 82.8 | 25.2 | 0.14 | 0.14 |
| ĞŸĞµĞ½Ğ·Ğ° | 46.0 | 14.0 | 0.08 | 0.08 |
| Ğ§ĞµÑ…Ğ¾Ğ² 1 | 94.3 | 28.7 | 0.16 | 0.16 |
| Ğ¡Ğ¦ ĞšĞ°Ğ»ÑƒĞ³Ğ° | 78.2 | 23.8 | 0.14 | 0.14 |
| Ğ¡Ğ¦ Ğ¡Ñ‹ĞºÑ‚Ñ‹Ğ²ĞºĞ°Ñ€ | 92.0 | 28.0 | 0.16 | 0.16 |
| Ğ¡Ğ¦ Ğ¢Ğ°Ğ¼Ğ±Ğ¾Ğ² | 59.8 | 18.2 | 0.1 | 0.1 |
| Ğ¡Ğ¾Ñ„ÑŒĞ¸Ğ½Ğ¾ Ğ¡Ğ“Ğ¢ | 43.7 | 13.3 | 0.08 | 0.08 |
| Ğ¡Ğ¦ Ğ¨Ñ‹Ğ¼ĞºĞµĞ½Ñ‚ ĞÑĞ°Ñ€ | 66.7 | 20.3 | 0.12 | 0.12 |
| ĞĞµĞ²Ğ¸Ğ½Ğ½Ğ¾Ğ¼Ñ‹ÑÑĞº | 48.3 | 14.7 | 0.08 | 0.08 |
| Ğ¡Ğ¦ ĞŸÑƒÑˆĞºĞ¸Ğ½Ğ¾ | 69.0 | 21.0 | 0.12 | 0.12 |
| Ğ¡Ğ¦ Ğ¢ÑĞ¼ĞµĞ½ÑŒ | 87.4 | 26.6 | 0.15 | 0.15 |
| ĞŸĞ¾Ğ´Ğ¾Ğ»ÑŒÑĞº | 92.0 | 28.0 | 0.16 | 0.16 |

</details>

<details>
<summary>Ğ¡ĞºĞ»Ğ°Ğ´Ñ‹ Ñ‚Ğ¸Ğ¿Ğ° "ĞœĞ¾Ğ½Ğ¾" (7 ÑˆÑ‚)</summary>

| Ğ¡ĞºĞ»Ğ°Ğ´ | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° 1Ğ» | Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ´Ğ¾Ğ¿.Ğ» | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ½Ğ¾Ğ¿Ğ°Ğ»ĞµÑ‚Ñ‹ |
|-------|-------------|----------------|---------------------|
| ĞœĞ°ĞºÑ. Ğ¸Ğ· Ğ½Ğ°ÑˆĞ¸Ñ… | 110.4 | 33.6 | 65 |
| Ğ¡Ğ¦ ĞŸÑƒÑˆĞºĞ¸Ğ½Ğ¾ | 94.3 | 28.7 | 51.25 |
| ĞšĞ¾Ğ»ĞµĞ´Ğ¸Ğ½Ğ¾ | 92.0 | 28.0 | 53.75 |
| ĞŸĞ¾Ğ´Ğ¾Ğ»ÑŒÑĞº 3 | 78.2 | 23.8 | 42.5 |
| Ğ¡Ğ¦ Ğ˜Ğ¶ĞµĞ²ÑĞº | 87.4 | 26.6 | 47.5 |
| Ğ¡Ğ¦ Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ¾ | 62.1 | 18.9 | 33.75 |
| Ğ¡Ğ¦ Ğ¥Ğ°Ğ±Ğ°Ñ€Ğ¾Ğ²ÑĞº | 39.1 | 11.9 | 21.25 |
| Ğ¡Ğ¦ Ğ¯Ñ€Ğ¾ÑĞ»Ğ°Ğ²Ğ»ÑŒ Ğ“Ñ€Ğ¾Ğ¼Ğ¾Ğ²Ğ° | 78.2 | 23.8 | 41.25 |

</details>

---

## ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ B: ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°

**Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:**
```json
{
  "sku": "ĞœÑ‹Ğ»Ğ¾ ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ",
  "purchase_price": 61,
  "sale_price": 550,
  "quantity": 2500,
  "category_wb": "ĞœÑ‹Ğ»Ğ¾ ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ",
  "height": 11,
  "width": 31,
  "length": 31,
  "ip_name": "Ğ˜ĞŸ Ğ¢ĞµÑ…Ğ½Ğ¾ÑƒÑÑ‚",
  "direction": "FBO",
  "warehouse": "ĞÑÑ‚Ğ°Ğ½Ğ° 2",
  "delivery_type": "ĞšĞ¾Ñ€Ğ¾Ğ±",
  "location_index": 1.0,
  "buyout_rate": 0.95,
  "defect_rate": 0.003,
  "marketing_rate": 0.02
}
```

**Ğ Ğ°ÑÑ‡Ñ‘Ñ‚:**
```
1. ĞĞ±ÑŠÑ‘Ğ¼ = 11 Ã— 31 Ã— 31 / 1000 = 10.571 Ğ»
2. Ğ”Ğ¾Ğ¿. Ğ¾Ğ±ÑŠÑ‘Ğ¼ = 10.571 - 1 = 9.571 Ğ»
3. ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ WB (ĞœÑ‹Ğ»Ğ¾ ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ, FBO) = 22.5%
4. ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ â‚½ = 550 Ã— 0.225 = 123.75 â‚½
5. Ğ›Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ° = 66.7 + 20.3 Ã— 9.571 = 261.09 â‚½
6. Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ = 0 â‚½ (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾ Ğ´Ğ¾ 60 Ğ´Ğ½ĞµĞ¹)
7. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° = 50 â‚½
8. Ğ­ĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³ = 550 Ã— 0.02 = 11 â‚½
9. ĞœĞŸâ†’ĞšĞ»Ğ¸ĞµĞ½Ñ‚ = 0 + 0 + 261.09 = 261.09 â‚½
10. Ğ¦ĞµĞ½Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚Ğ° = 0 + 261.09 + 50 + 550 Ã— 0.02 = 322.09 â‚½
11. Ğ£Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ ĞœĞŸ = 261.09 + 123.75 + 11 + 11 + (0.05/0.95) Ã— 322.09 = 423.80 â‚½
12. ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´ Ğ½Ğ° ÑÑ‡Ñ‘Ñ‚ = 550 - 423.80 = 126.20 â‚½
13. ĞĞ°Ğ»Ğ¾Ğ³ = 550 Ã— 0.03 = 16.5 â‚½
14. Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ñ‚Ñ€Ğ°Ñ‚Ğ¸Ğ¼ = 61 Ã— 0.003 + 0 + 0 + 16.5 + 61 = 77.68 â‚½
15. Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ = 126.20 - 77.68 = 48.52 â‚½
16. ROI = 48.52 / 77.68 = 62.5%
17. ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ = 48.52 / 550 = 8.8%
18. ĞœĞ°Ñ€Ğ¶Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸Ñ…Ğ¾Ğ´Ğ° = 48.52 / 126.20 = 38.4%
19. Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: âœ… (38.4% > 10% min_margin)
```

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ React-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€Ğ° Unit-ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ¸ WB*
*Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0*
*Ğ”Ğ°Ñ‚Ğ°: 2025*
